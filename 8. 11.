#include <iostream>
#include <iomanip>
#define T 4

using namespace std;

void imprime(float A[T][T])
{
    int i, j;
    for (i = 0; i < T; i++)
    {
        for (j = 0; j < T; j++)
        {
           cout << A[i][j] << " ";
        }
        cout << endl;
    }
}

void trans (float mat1[T][T], float mat2[T][T])
{
    int i, j;
    
    for (i = 0; i < T; i++)
    {
        for (j = 0; j < T; j++)
        {
            mat2[j][i] = mat1[i][j];
        }
    }
    
    
    cout << "Transposta: "<< endl;
    imprime(mat2);
    return;
}

void diag (float mat1[T][T], float mat2[T][T])
{
    int i, j;
    
    for (i = 0; i < T; i++)
    {
        for( j = 0; j < T; j++)
        {
            mat2[i][j] = 0;
        }
    }
    
    for ( i = 0; i < T; i++)
    {
        mat2[i][i] = mat1[i][i];
    }
    
    cout << "Diagonal: "<< endl;
    imprime(mat2);
    return;
}

void soma (float mat1[T][T], float mat2[T][T])
{
    int i, j;
    
    for (i = 0; i < T; i++)
    {
        for (j = 0; j < T; j++)
        {
            mat2[i][j]=2.0*mat1[i][j];
        }
    }
    
    cout << "Soma: "<< endl;
    imprime(mat2);
    
    return;
}

void media (float mat1[T][T], float mat2[T][T])
{
    int i, j;
    float s;
    float m;

    for ( i = 0; i < T; i++)
    {
         s = 0;
         m = 0;
        
        for ( j = 0; j < T; j++)
        {
            s= s + mat1[i][j];
        }
        
        m= s/4;
        
        for ( j = 0; j < T; j++)
        {
            mat2[i][j] = m;
        }
        
    }
    
    cout << "Media: "<< endl;
    imprime(mat2);
    
    return;
}

void maiorEmenor (float mat1[T][T], float mat2[T][T])
{
    int i, j;
    float maior = mat1[0][0], menor = mat1[0][0];
    
    for ( i = 0; i < T; i++)
    {
        for ( j = 0; j < T; j++)
        {
            if(mat1[i][j] < menor)
            {
                menor = mat1[i][j];
            }
            if(mat1[i][j] > maior)
            {
                maior = mat1[i][j];
            }
        }
    }
    
    for ( i = 0; i < T; i++)
    {
        for ( j = 0; j < T; j++)
        {
          if ( i%2 == 0)
          {
              mat2[i][j] = maior;
          }
          else
          {
              mat2[i][j] = menor;
          }
        }
    }
    
    cout << "Maior e Menor:  "<< endl;
    imprime(mat2);
    
    return;
}

void acima (float mat1[T][T], float mat2[T][T])
{
    int i, j;
    float s = 0, q = 0, media;
    
    for ( i = 0; i < T; i++)
    {
        for ( j = 0; j < T; j++)
        {
            s += mat1[i][j];
            q++;
        }
    }
    
    media = s/q;
    
    for ( i = 0; i < T; i++)
    {
        for ( j = 0; j < T; j++)
        {
           if(mat1[i][j]> media)
           {
               mat2[i][j]= mat1[i][j];
           }
           else
           {
               mat2[i][j]= 0;
           }
        }
    }    
    
    cout << "Acima da Media:  "<< endl;
    imprime(mat2);
    
    return;
    
}

int main()
{
    float mat1[T][T], mat2[T][T];
    int i, j;
    
    cout << fixed << setprecision(6);
    
    for ( i = 0; i  < T; i++)
    {
        for ( j = 0; j < T; j++)
        {
            cin>> mat1[i][j];
        }
    }
    
    trans(mat1, mat2);
    
    diag(mat1, mat2);
    
    soma(mat1, mat2);
    
    media(mat1, mat2);
    
    maiorEmenor(mat1, mat2);
    
    acima(mat1, mat2);
    
    return 0;
    
}
